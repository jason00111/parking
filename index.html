<!DOCTYPE html>
<html>

<body>

    <h1>My First Google Map</h1>

    <div id="googleMap" style="width:100%;height:400px;"></div>
    <script src="meter.js"></script>
    <script src="meterData.js"></script>

    <script>

      function myMap() {
        var mapProp = {
          // center:new google.maps.LatLng(2112625.9794610441, 6059698.9833894819),
          center: new google.maps.LatLng(37.78409100, -122.23709600),
          zoom: 20,
        };
        var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
        //
        // var marker = new google.maps.Marker({
        //     position: {
        //       lat:  37.78409100,
        //       lng: -122.23709600
        //     },
        //     map: map,
        //     title: 'Hello World!'
        // })

        var sampleData = meter.result.records.map(record => record.lonlatconc.split(', ').map(string => JSON.parse(string)) )

        // console.log('asdf', x)


        const smallSetOfMeters = meters.slice(0, 100)

        console.log(smallSetOfMeters)

        smallSetOfMeters.forEach( singleArray =>
          new google.maps.Marker({
              position: {
                lat: parseInt(singleArray.lat),
                lng: parseInt(singleArray.lng)
              },
              map: map,
              title: 'two'
          })

        )

      }

      console.log('the meter data:', meters)

      console.log('hello')

    </script>

    <script src="https://maps.googleapis.com/maps/api/js?callback=myMap"></script>


    <style>

    </style>


</body>

</html>
